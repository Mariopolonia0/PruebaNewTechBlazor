@page "/"
@inherits BookBase
@inject IToastService toastService
<PageTitle>Lista de Books</PageTitle>

<EditForm Model="this">

    <div class="card">

        <div class="card-header">
            <h4>Lista de Books</h4>
        </div>

        <div class="card-body">
            <div class="p-2 row row-cols-auto align-items-center">
                <label class="col">Book Id</label>
                <InputNumber class="col align-self-start-center " @bind-Value="BookId" />
                <button @onclick="Buscar" class="col align-self-start-center btn btn-primary">
                    <i class="oi oi-magnifying-glass" />
                </button>
            </div>
        </div>

        <table class="table table-striped table-hover col align-self-start-center" style="cursor: pointer;">

            <thead class="thead">
                <tr class="table">
                    <th>Book ID</th>
                    <th>Nombre</th>
                    <th>Nombre del Autor</th>
                    <th>Edicion</th>
                    <th>Precio</th>
                </tr>
            </thead>
            @if (BooksList != null)
            {
                <tbody>
                    @foreach (var book in BooksList!)
                    {
                        <tr>
                            <td>@book.BookId</td>
                            <td>@book.Nombre</td>
                            <td>@book.NombreAutor</td>
                            <td>@book.Edicion</td>
                            <td>@book.Precio </td>
                        </tr>
                    }
                </tbody>
            }
            else
            {
                <div class="progress">
                    <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 10%" aria-valuenow="10"
                    aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            }
        </table>
    </div>
    <BlazoredToasts />
</EditForm>
